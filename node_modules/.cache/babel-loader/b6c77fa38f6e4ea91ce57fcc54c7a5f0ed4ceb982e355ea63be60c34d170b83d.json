{"ast":null,"code":"var _jsxFileName = \"/Users/chauanhnguyen/Downloads/codepath/creatorverse/src/pages/EditCreator.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { supabase } from '../client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditCreator = () => {\n  _s();\n  const {\n    id\n  } = useParams(); // Get the creator's id from the URL\n  const [name, setName] = useState('');\n  const [url, setUrl] = useState('');\n  const [description, setDescription] = useState('');\n  const [imageURL, setImageURL] = useState('');\n  const navigate = useNavigate();\n  useEffect(() => {\n    // Fetch the creator's current information from the database\n    const fetchCreator = async () => {\n      const {\n        data,\n        error\n      } = await supabase.from('creators').select('*').eq('id', id).single();\n      if (error) {\n        console.error('Error fetching creator:', error);\n      } else {\n        setName(data.name);\n        setUrl(data.url);\n        setDescription(data.description);\n        setImageURL(data.imageurl);\n      }\n    };\n    fetchCreator();\n  }, [id]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    // Update the creator's information in the database\n    const {\n      error\n    } = await supabase.from('creators').update({\n      name,\n      url,\n      description,\n      imageurl: imageURL\n    }).eq('id', id);\n    if (error) {\n      console.error('Error updating creator:', error);\n    } else {\n      navigate(`/view/${id}`); // Navigate to the view page after a successful update\n    }\n  };\n  const handleDelete = async () => {\n    // Delete the creator from the database\n    const {\n      error\n    } = await supabase.from('creators').delete().eq('id', id);\n    if (error) {\n      console.error('Error deleting creator:', error);\n    } else {\n      navigate('/'); // Navigate to the homepage after deletion\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Edit Creator\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"name\",\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"name\",\n        value: name,\n        onChange: e => setName(e.target.value),\n        placeholder: \"Name\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"url\",\n        children: \"URL\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"url\",\n        value: url,\n        onChange: e => setUrl(e.target.value),\n        placeholder: \"URL\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"description\",\n        children: \"Description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        id: \"description\",\n        value: description,\n        onChange: e => setDescription(e.target.value),\n        placeholder: \"Description\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"imageURL\",\n        children: \"Image URL\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"imageURL\",\n        value: imageURL,\n        onChange: e => setImageURL(e.target.value),\n        placeholder: \"Image URL (optional)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Save Changes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleDelete,\n      children: \"Delete Creator\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n_s(EditCreator, \"lb+FB1//fA7YKYhlSTFnyaEZuAA=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = EditCreator;\nexport default EditCreator;\nvar _c;\n$RefreshReg$(_c, \"EditCreator\");","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","supabase","jsxDEV","_jsxDEV","EditCreator","_s","id","name","setName","url","setUrl","description","setDescription","imageURL","setImageURL","navigate","fetchCreator","data","error","from","select","eq","single","console","imageurl","handleSubmit","e","preventDefault","update","handleDelete","delete","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","value","onChange","target","placeholder","required","type","onClick","_c","$RefreshReg$"],"sources":["/Users/chauanhnguyen/Downloads/codepath/creatorverse/src/pages/EditCreator.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { supabase } from '../client';\n\nconst EditCreator = () => {\n  const { id } = useParams(); // Get the creator's id from the URL\n  const [name, setName] = useState('');\n  const [url, setUrl] = useState('');\n  const [description, setDescription] = useState('');\n  const [imageURL, setImageURL] = useState('');\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    // Fetch the creator's current information from the database\n    const fetchCreator = async () => {\n      const { data, error } = await supabase\n        .from('creators')\n        .select('*')\n        .eq('id', id)\n        .single();\n\n      if (error) {\n        console.error('Error fetching creator:', error);\n      } else {\n        setName(data.name);\n        setUrl(data.url);\n        setDescription(data.description);\n        setImageURL(data.imageurl);\n      }\n    };\n\n    fetchCreator();\n  }, [id]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    // Update the creator's information in the database\n    const { error } = await supabase\n      .from('creators')\n      .update({ name, url, description, imageurl: imageURL })\n      .eq('id', id);\n\n    if (error) {\n      console.error('Error updating creator:', error);\n    } else {\n      navigate(`/view/${id}`); // Navigate to the view page after a successful update\n    }\n  };\n\n  const handleDelete = async () => {\n    // Delete the creator from the database\n    const { error } = await supabase\n      .from('creators')\n      .delete()\n      .eq('id', id);\n\n    if (error) {\n      console.error('Error deleting creator:', error);\n    } else {\n      navigate('/'); // Navigate to the homepage after deletion\n    }\n  };\n\n  return (\n    <div>\n      <h1>Edit Creator</h1>\n      <form onSubmit={handleSubmit}>\n        <label htmlFor=\"name\">Name</label>\n        <input\n          id=\"name\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          placeholder=\"Name\"\n          required\n        />\n        <label htmlFor=\"url\">URL</label>\n        <input\n          id=\"url\"\n          value={url}\n          onChange={(e) => setUrl(e.target.value)}\n          placeholder=\"URL\"\n          required\n        />\n        <label htmlFor=\"description\">Description</label>\n        <textarea\n          id=\"description\"\n          value={description}\n          onChange={(e) => setDescription(e.target.value)}\n          placeholder=\"Description\"\n          required\n        />\n        <label htmlFor=\"imageURL\">Image URL</label>\n        <input\n          id=\"imageURL\"\n          value={imageURL}\n          onChange={(e) => setImageURL(e.target.value)}\n          placeholder=\"Image URL (optional)\"\n        />\n        <button type=\"submit\">Save Changes</button>\n      </form>\n      <button onClick={handleDelete}>Delete Creator</button>\n    </div>\n  );\n};\n\nexport default EditCreator;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}